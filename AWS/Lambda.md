# Amazon Lambda

AWS Lambda是一个不需要提供和管理服务器的计算服务。Lambda在一个高可用的计算基础设施上运行你的代码，AWS Lambda将为你提供服务器，操作系统，容量分配和自动伸缩，还有运行日志，你只需要提供Amazon Lambda支持的代码就可以。



### Amazon Lambda概念

- 函数：函数是一个可以运行你代码的资源，一个函数可以处理你传进来或者其他AWS服务传进来的事件；
- 触发器：触发器是一个可以调用Lambda函数的资源或配置，触发器包含AWS服务触发函数的配置和事件源的映射，一个事件源的映射是可以从一个队列里读取调用消息的资源；
- 事件：一个事件时一个JSON格式的数据，运行时将事件转换成一个对象传给函数；
- 运行环境：一个运行环境提供了安全、独立的运行时，管理运行Lambda所需的所有资源，提供对Lambda整个生命周期支持和所有扩展；
- 指令集架构：指令集决定了处理器的类型，目前支持arm64\X86_64；
- 部署包：Lambda支持两种部署包：.zip打包文件或者容器镜像；
- 运行时：运行时提供特定编程语言的执行环境，运行时在Lambda和函数之前传递调用事件、上下文信息和响应；
- 分成：分成可以提供一种方便的方式来打包函数库和依赖，使用分成可以减少你的打包文件的大小和快速部署你的代码，而且还可以提供代码共享和职责隔离，这样你就可以更快的迭代你的业务逻辑；默认情况下你创建的分层是你自己账户私有的，你也可以与其他账户分享你的分层或者将你的分层设置成公有；
- 扩展：Lambda扩展可以使你扩展你的函数，使用扩展可以将监控，安全和管理工具集成进来，一个外部扩展在函数被调用前初始化，与函数运行时并行运行，还会在函数调用结束后继续运行；
- 并发：并发是一个同一时间的请求数，同一时间构建多个实例来处理多个请求；
- 修饰：可以使用一个修饰符指定一个版本或别名，版本是一个不可改变的函数代码和配置的快照，别名可以指向多个版本；
- 目的地：目的地是一个接受Lambda输出事件的资源，同时支持异步函数调用。可以为失败的处理指定一个目的地，一些服务也支持成功调用的目的地。

### 程序模型

Lambda为所有的运行时提供一个公用的程序模型，程序模型定义了运行代码和Lambda系统之间的接口。通过在你的函数中定义一个handler来告诉Lambda你的程序入口，运行时传递对象给handler包含了事件和运行上下文。当handler处理完一个请求时，运行时会发送另一个请求给它，函数的class将暂存在内存里，这样可以减少初始化的时间。运行时将捕获函数的日志发送到Amazon CloudWatch，运行时将记录请求ID，运行时间，初始化时间和其他一些日志。

